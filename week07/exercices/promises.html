<!doctype html>
<html lang='en'>

<head>
    <meta charset='utf-8'>
    <title>Dice Promise Example</title>
    <script>
        const dice = {
            sides: 6,
            roll() {
                return Math.floor(this.sides * Math.random()) + 1;
            }
        }

        console.log('Before the roll');
        const roll = new Promise((resolve, reject) => {
            const n = dice.roll();
            if (n > 1) {
                setTimeout(() => {
                    resolve(n)
                }, n * 200);
            } else {
                setTimeout(() => reject(n), n * 200);
            }
        });
        roll.then(result => console.log(`I rolled a ${result}`))
            .catch(result => console.log(`Drat! ... I rolled a ${result}`));
        console.log('After the roll');
    </script>
</head>

<body>
    <p>See the code to understand</p>
</body>

</html>